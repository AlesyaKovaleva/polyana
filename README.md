
# Поляна

Простая пошаговая многопользовательская сетевая игра на 2 или 4 пользователя. Представляет собой квадратное поле произвольного размера, состояшее из ячеек. Игрок может передвигаться из ячейки в ячейку. Ячейка, на которой игрок стоял до этого, становится недоступной. Побеждает тот, кто пройдет более длинный путь.

## Техническая сторона игры

Игра состоит из двух серверов: боевого и игрового. [Слайды](https://docs.google.com/presentation/d/1mj8VyirfPA0jqaI0_wcF6SZ9pPgazdPXzRhokf-Fl84/edit?usp=sharing).

Игровой сервер написан на python/django. Он предстравляет собой сайт, на котором можно зарегистрироваться, перейти в личный кабинет, управлять игровыми валютами. Также у игрового сервера есть API, позволяющее, используя HTTP-запросы, зарегистрироваться, авторизоваться и получить токен, получить информацию об игроке.
[Подробное описание игрового сервера](https://github.com/dziaineka/polyana/blob/master/game_server/README.md)

Боевой сервер написан на erlang, работает по протоколу TCP. Он позволяет аутентифицировавшимся (по логину и паролю или по токену) пользователям играть в игру на поляне с другими игроками. Перед игрой игрок делает ставку в одной из игровых валют. Сервер подбирает игроку соперников. Бой ведется с меньшей ставкой из поставленных игроками. После игры ставки всех игроков переходят победителю.
[Подробное описание боевого сервера](https://github.com/dziaineka/polyana/blob/master/battle_server/polyana/README.md)

Что-то там еще про бота в телеграме дописать бы...

## Как запустить серверы

### База данных

Серверы используют СУБД Postgres. Серверы обращаются к ней через порт 15432. База данных называется polyana, пользователь polyana, пароль polyana.

Проще всего запустить базу средствами vagrant с помощью [этой конфигурации](https://github.com/dziaineka/pg-app-dev-vm).

### Игровой сервер

Для запуска игрового сервера нужно:

- установить зависимости
- создать структуру базы данных (выполнить миграции django)
- запустить сервер

Подробнее [здесь](https://github.com/dziaineka/polyana/blob/master/game_server/README.md).

### Боевой сервер

В [описании боевого сервера](https://github.com/dziaineka/polyana/blob/master/battle_server/polyana/README.md).